<div class="item-menu">
  {{#if compact}}
  <div class="row">
    <div class="col-md-5">
      <div class="input-group">
        <input type="text" class="form-control" value={{currentListFilter}} readonly>
        <div class="input-group-btn">
          {{#bs-dropdown as |dd|}}
          {{#dd.button}}<span class="caret"></span>{{/dd.button}}
            {{#dd.menu align="right"}}
              {{#each listFilter as |filter|}}
                <li {{action 'setListFilter' filter}}>
                    <a href="#" class={{if (eq currentListFilter filter) "active"}}>
                      {{filter}}
                    </a>
                </li>
              {{/each}}
            {{/dd.menu}}
          {{/bs-dropdown}}
        </div>
      </div>
    </div>

    <div class="col-md-4">
      Av: {{check-box value=showAvailable}}
      As: {{check-box value=showAssigned}}
    </div>
    <div class="col-md-3">
      Ships: {{filterGroup.count}}
    </div>
  </div>

  {{else}}
  <span style="padding-right:4px;"> Group by: </span>
  {{#each listFilter as |filter|}}
    <button type="button" class={{if (eq currentListFilter filter) "tb tb-filter tb-selected" "tb tb-filter"}}
      {{action 'setListFilter' filter}}>
      {{filter}}
    </button>
  {{/each}}

  <span style="padding-right:4px; padding-left:12px;"> View: </span>
  <button type="button" class={{if listView "tb tb-filter" "tb tb-filter tb-selected"}} {{action 'setListView' false}}> {{fa-icon "th"}}  </button>
  <button type="button" class={{if listView "tb tb-filter tb-selected" "tb tb-filter"}} {{action 'setListView' true}}> {{fa-icon "list"}}  </button>

  <span style="padding-right:4px; padding-left:12px;"> Available: </span>
  {{check-box value=showAvailable}}
  <span style="padding-right:4px; padding-left:12px;"> Assigned: </span>
  {{check-box value=showAssigned}}

  <div class="item-stat-menu">
    Ships: {{filterGroup.count}}
  </div>

  {{/if}}



  {{#if (and canModify showEdit)}}
    <div class="toolbar">
        <button type="button" class="tb tb-default" {{action "addShip" player}}> <i class="fa fa-plus" ></i> Ship</button>
    </div>
  {{/if}}
</div>


<div tabindex="0" class="item-list">
  {{#each filterGroup.list as |group|}}
    <div class="ship-manu">
      <img class="ship-manu-img" src="{{group.img}}">
      <span class="ship-manu-name">
        {{group.name}} [ {{group.ships.length}} ]
      </span>
    </div>

    <div class="row def-table-header">
      {{#if listView}}
        {{#if compact}}
        <div class="col-md-4">
        </div>
        <div class="col-md-4">
          Name
        </div>
        <div class="col-md-4">
          Player
        </div>
        {{else}}
        <div class="col-md-2">
        </div>
        <div class="col-md-2">
          Name
        </div>
        <div class="col-md-2">
          Player
        </div>
        <div class="col-md-2">
          Unit
        </div>
        <div class="col-md-1 text-right">
          Available
        </div>
        <div class="col-md-2 text-right">
          ???
        </div>
        <div class="col-md-1">
        </div>
        {{/if}}
      {{/if}}
    </div>

    <div class="ship-list" style={{get-height group.height}}>
      {{#ember-collection items=group.ships cell-layout=(percentage-columns-layout group.ships.length columns itemHeight) as |ship index|}}
        {{ship-details ship=ship listView=listView onConfirm=(action "showConfirm") onEdit=(action "setEdit") draggable=draggable compact=compact}}
      {{/ember-collection}}
    </div>

  {{/each}}
</div>

{{#if showShipDialog}}
  {{ship-create ship=currShip showDialog=showShipDialog onConfirm=(action "showConfirm") onDiscard=(action "showDiscard")}}
{{/if}}

{{#if showConfirmDialog}}
  {{confirm-dialog showDialog=showConfirmDialog msg=msg onConfirm=(action "onConfirmed")}}
{{/if}}
